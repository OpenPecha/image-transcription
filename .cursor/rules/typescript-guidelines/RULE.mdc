---
description: TypeScript 5.9+ coding standards and type safety guidelines
globs: ["**/*.ts", "**/*.tsx"]
alwaysApply: false
---

# TypeScript Guidelines

## Strict Configuration

- **Strict Mode:** Always enabled. `noImplicitAny`, `strictNullChecks` are mandatory
- **No `any`:** Use `unknown` for truly unknown types, then narrow with type guards

## Type Definitions

### Props (use `type`, not `interface`)

```typescript
// ✅ GOOD: Allows union/intersection
type ButtonProps = {
  variant: 'primary' | 'secondary';
  size?: 'sm' | 'md' | 'lg';
} & ComponentProps<'button'>;
```

### Use `satisfies` for type-safe literals

```typescript
const ROUTES = {
  home: '/',
  dashboard: '/dashboard',
} as const satisfies Record<string, string>;
```

### Discriminated Unions for complex state

```typescript
type AsyncState<TData> =
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: TData }
  | { status: 'error'; error: Error };
```

### No Enums - use const objects

```typescript
// ❌ BAD
enum Status { Active, Inactive }

// ✅ GOOD
const STATUS = { ACTIVE: 'active', INACTIVE: 'inactive' } as const;
type Status = (typeof STATUS)[keyof typeof STATUS];
```

## Generics

- Use descriptive names: `TData`, `TError`, `TResponse` (not `T`, `E`, `R`)
- Prefer inference over explicit generic arguments when possible

## Zod Validation

Always validate external data:

```typescript
// API responses
const parsed = taskSchema.safeParse(response.data);
if (!parsed.success) throw new Error('Invalid API response');

// URL params
const params = paramsSchema.parse(rawParams);

// Form data
resolver: zodResolver(formSchema)
```

